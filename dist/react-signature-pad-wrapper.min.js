"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var React=require("react"),React__default=_interopDefault(React),PropTypes=_interopDefault(require("prop-types")),SigPad=_interopDefault(require("signature_pad")),throttle=function(t,e,n,i){var a,r=0;return"boolean"!=typeof e&&(i=n,n=e,e=void 0),function(){var o=this,s=Number(new Date)-r,u=arguments;function c(){r=Number(new Date),n.apply(o,u)}i&&!a&&c(),a&&clearTimeout(a),void 0===i&&s>t?c():!0!==e&&(a=setTimeout(i?function(){a=void 0}:c,void 0===i?t-s:t))}},throttle$1=Object.freeze({default:throttle,__moduleExports:throttle}),throttle$2=throttle$1&&throttle||throttle$1,debounce=function(t,e,n){return void 0===n?throttle$2(t,e,!1):throttle$2(t,n,!1!==e)},classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},SignaturePad=function(t){function e(t){classCallCheck(this,e);var n=possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={canvasWidth:0,canvasHeight:0},n._callResizeHandler=debounce(n.props.debounceInterval,n.handleResize.bind(n)),n}return inherits(e,t),createClass(e,[{key:"componentDidMount",value:function(){this._canvas&&(this.props.width&&this.props.height||(this._canvas.style.width="100%"),this.scaleCanvas(),this.props.width&&this.props.height||window.addEventListener("resize",this._callResizeHandler),this._signaturePad=new SigPad(this._canvas,this.props.options))}},{key:"componentWillUnmount",value:function(){this.props.width&&this.props.height||window.removeEventListener("resize",this._callResizeHandler),this._signaturePad.off()}},{key:"isEmpty",value:function(){return this._signaturePad.isEmpty()}},{key:"clear",value:function(){this._signaturePad.clear()}},{key:"fromDataURL",value:function(t){this._signaturePad.fromDataURL(t)}},{key:"toDataURL",value:function(t){return this._signaturePad.toDataURL(t)}},{key:"fromData",value:function(t){this._signaturePad.fromData(t)}},{key:"toData",value:function(){return this._signaturePad.toData()}},{key:"off",value:function(){this._signaturePad.off()}},{key:"on",value:function(){this._signaturePad.on()}},{key:"handleResize",value:function(){this.scaleCanvas()}},{key:"scaleCanvas",value:function(){var t=Math.max(window.devicePixelRatio||1,1),e=(this.props.width||this._canvas.offsetWidth)*t,n=(this.props.height||this._canvas.offsetHeight)*t,i=this.state,a=i.canvasWidth,r=i.canvasHeight;if(e!==a||n!==r){var o=void 0;this.props.redrawOnResize&&this._signaturePad&&(o=this._signaturePad.toDataURL()),this._canvas.width=e,this._canvas.height=n,this.setState({canvasWidth:e,canvasHeight:n}),this._canvas.getContext("2d").scale(t,t),this.props.redrawOnResize&&this._signaturePad?this._signaturePad.fromDataURL(o):this._signaturePad&&this._signaturePad.clear()}}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return React__default.createElement("canvas",_extends({ref:function(e){return t._canvas=e}},e))}},{key:"instance",get:function(){return this._signaturePad}},{key:"canvas",get:function(){return this._canvas}},{key:"dotSize",set:function(t){this._signaturePad.dotSize=t},get:function(){return this._signaturePad.dotSize}},{key:"minWidth",set:function(t){this._signaturePad.minWidth=t},get:function(){return this._signaturePad.minWidth}},{key:"maxWidth",set:function(t){this._signaturePad.maxWidth=t},get:function(){return this._signaturePad.maxWidth}},{key:"throttle",set:function(t){this._signaturePad.throttle=t},get:function(){return this._signaturePad.throttle}},{key:"backgroundColor",set:function(t){this._signaturePad.backgroundColor=t},get:function(){return this._signaturePad.backgroundColor}},{key:"penColor",set:function(t){this._signaturePad.penColor=t},get:function(){return this._signaturePad.penColor}},{key:"velocityFilterWeight",set:function(t){this._signaturePad.velocityFilterWeight=t},get:function(){return this._signaturePad.velocityFilterWeight}},{key:"onBegin",set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onBegin()");this._signaturePad.onBegin=t}},{key:"onEnd",set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onEnd()");this._signaturePad.onEnd=t}}]),e}(React.PureComponent);SignaturePad.displayName="react-signature-pad-wrapper",SignaturePad.propTypes={width:PropTypes.number,height:PropTypes.number,options:PropTypes.object,redrawOnResize:PropTypes.bool.isRequired,debounceInterval:PropTypes.number.isRequired,canvasProps:PropTypes.object},SignaturePad.defaultProps={redrawOnResize:!1,debounceInterval:150},module.exports=SignaturePad;
//# sourceMappingURL=react-signature-pad-wrapper.min.js.map
